<!DOCTYPE html><html class="theme-lattice"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Taro 版本升级权威指南 | Aotu.io「凹凸实验室」</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="凹凸实验室"><meta name="designer" content="凹凸实验室"><meta name="rating" content="general"><meta name="format-detection" content="telephone=yes"><meta name="robots" content="index, follow"><meta baidu-gxt-verify-token="2b74a5aea155a215abea8547f929190c"><meta name="keywords" content="Taro,小程序,凹凸实验室,Aotu,前端开发,全栈开发,IOS开发,Android开发"><link rel="canonical" href="https://aotu.io/notes/2020/08/31/taro-versions/index.html"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon-48x48.png"><link rel="manifest" href="/img/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#2f83cd"><meta name="application-name" content="Aotu.io"><link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/img/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/img/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Aotu.io"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/img/mstile-144x144.png"><meta name="msapplication-config" content="/img/browserconfig.xml"><meta property="wb:webmaster" content="a1686eb81db284d5"><link rel="dns-prefetch" href="//storage.360buyimg.com"><link rel="dns-prefetch" href="//img10.360buyimg.com"><link rel="dns-prefetch" href="//img11.360buyimg.com"><link rel="dns-prefetch" href="//img12.360buyimg.com"><link rel="dns-prefetch" href="//img13.360buyimg.com"><link rel="dns-prefetch" href="//img14.360buyimg.com"><link rel="dns-prefetch" href="//img20.360buyimg.com"><link rel="dns-prefetch" href="//img30.360buyimg.com"><link rel="dns-prefetch" href="//misc.aotu.io"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Aotu.io"><meta name="description" content="Taro 是一款由京东凹凸实验室推出的开放式跨端跨框架解决方案，致力于解决小程序、H5、React Native 的跨端同构问题，支持同时使用 React 和 Vue 来进行开发。本文由 Taro 团队成员隔壁老李撰写，旨在帮助 Taro 开发者厘清当前 Taro 多版本之间关系的那些事儿，同时解答有关 Taro 3、Taro RN 支持以及 Taro UI 的一些困惑。   自从 Taro 在"><meta name="keywords" content="小程序,Taro"><meta property="og:type" content="article"><meta property="og:title" content="Taro 版本升级权威指南"><meta property="og:url" content="https://aotu.io/notes/2020/08/31/taro-versions/index.html"><meta property="og:site_name" content="Aotu.io"><meta property="og:description" content="Taro 是一款由京东凹凸实验室推出的开放式跨端跨框架解决方案，致力于解决小程序、H5、React Native 的跨端同构问题，支持同时使用 React 和 Vue 来进行开发。本文由 Taro 团队成员隔壁老李撰写，旨在帮助 Taro 开发者厘清当前 Taro 多版本之间关系的那些事儿，同时解答有关 Taro 3、Taro RN 支持以及 Taro UI 的一些困惑。   自从 Taro 在"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="https://storage.360buyimg.com/taro-resource/taro1.jpg"><meta property="og:image" content="https://storage.360buyimg.com/taro-resource/taro2.jpg"><meta property="og:image" content="https://storage.360buyimg.com/taro-resource/template.jpg"><meta property="og:updated_time" content="2021-01-14T16:02:23.797Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Taro 版本升级权威指南"><meta name="twitter:description" content="Taro 是一款由京东凹凸实验室推出的开放式跨端跨框架解决方案，致力于解决小程序、H5、React Native 的跨端同构问题，支持同时使用 React 和 Vue 来进行开发。本文由 Taro 团队成员隔壁老李撰写，旨在帮助 Taro 开发者厘清当前 Taro 多版本之间关系的那些事儿，同时解答有关 Taro 3、Taro RN 支持以及 Taro UI 的一些困惑。   自从 Taro 在"><meta name="twitter:image" content="https://storage.360buyimg.com/taro-resource/taro1.jpg"><meta name="twitter:site" content="o2circle"><script>var App={root:"/",isHome:!1,isCate:!1,isTag:!1}</script></head><body class="page-post-detail"><div class="mod-hd"><div class="grid"><div class="mod-logo"><a href="/index.html" title="Aotu.io">Aotu.io</a></div><span class="mod-hd-toggle" id="J_hdToggle"><i class="fa fa-bars"></i></span><div class="mod-hd-main"><div class="mod-hd-inner"><nav class="mod-nav"><ul class="mod-nav-list"><li class="main-nav-item"><a href="/index.html" class="main-nav-link">首页</a></li><li class="main-nav-item"><a target="_blank" href="https://geeks.aotu.io" class="main-nav-link">极客沙龙</a></li><li class="main-nav-item"><a href="https://cases.aotu.io" class="main-nav-link">H5案例</a></li><li class="main-nav-item"><a href="/about/" class="main-nav-link">关于</a></li><li class="main-nav-item"><a href="/join/" class="main-nav-link">加入我们</a></li></ul></nav><div class="mod-search" id="J_search"><a class="fa fa-search mod-search-ico" id="J_searchTrigger" title="搜索"></a><form id="J_searchForm" method="get" class="mod-search-form" action="/search/"><input type="text" name="query" class="mod-search-ipt" id="J_searchInput" placeholder="搜索"></form></div></div></div></div></div><div class="mod-container"><div class="grid"><div class="mod-main typo"><article class="post"><div class="post-cover"><img src="https://storage.360buyimg.com/taro-resource/taro_version2.jpg" alt="Taro 版本升级权威指南"></div><header class="post-hd"><h1 class="post-tit">Taro 版本升级权威指南</h1><div class="post-meta">by <a target="_blank" href="https://github.com/luckyadam" class="post-author">隔壁老李</a> on <span>2020-09-01</span></div><p class="post-subtit" style="display:none"><i class="fa fa-quote-left"></i>你是否对 Taro 辣么多版本感到非常困惑？你是否对升级 Taro 感到束手无策？本篇文章将为你答疑解惑，全面解读 Taro 开发那些事儿。</p><span style="display:none" id="busuanzi_value_page_pv"></span></header><div class="post-content"><blockquote><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener">Taro</a> 是一款由京东<a href="https://aotu.io">凹凸实验室</a>推出的开放式跨端跨框架解决方案，致力于解决小程序、H5、React Native 的跨端同构问题，支持同时使用 React 和 Vue 来进行开发。本文由 Taro 团队成员隔壁老李撰写，旨在帮助 Taro 开发者厘清当前 Taro 多版本之间关系的那些事儿，同时解答有关 Taro 3、Taro RN 支持以及 Taro UI 的一些困惑。</p></blockquote><p>自从 Taro 在今年 7 月份推出 <a href="https://juejin.im/post/6844904205367377933" target="_blank" rel="noopener">3.0 版本</a>，宣布同时支持 React 和 Vue 来开发跨端应用之后，Taro 的关注度得到了进一步地提升，很多开发者开始尝试升级自身项目到 3.0 来体验新的特性，同时，Taro 社区也开始迎来一些新朋友，业界有很多 Vue 开发者在做技术选型时开始将目光投向 Taro。</p><p>但由于 Taro 大版本之间差异较大，而社区内很多关于 Taro 的教程文章以及示例项目目前还停留 Taro 1/2 时代，导致很多开发者使用 Taro 3.0 尝试时出现奇怪的问题，所以 Taro 团队想通过本文帮助大家理解 Taro 各个版本之间的联系，协助大家更好地完成版本迁移，避免出现一些难以解决的奇怪问题。</p><h2 id="区分-Taro-版本的火眼金睛" class="post-heading"><a href="#区分-Taro-版本的火眼金睛" class="headerlink" title="区分 Taro 版本的火眼金睛"></a>区分 Taro 版本的火眼金睛<a class="post-anchor" href="#区分-Taro-版本的火眼金睛" aria-hidden="true"></a></h2><p>Taro 目前有 3 个大版本，但如果按照架构来真正划分时代的话，Taro 1/2 属于第一代架构，而 Taro 3 则属于第二代架构，两代架构差异巨大，甚至可以完全认为是 2 个框架。当然，这只是对于框架内核而言，对于开发者，Taro 团队已经尽量在保证大版本之间的兼容性，着力降低版本迁移的难度。</p><h3 id="Taro-1-2" class="post-heading"><a href="#Taro-1-2" class="headerlink" title="Taro 1/2"></a>Taro 1/2<a class="post-anchor" href="#Taro-1-2" aria-hidden="true"></a></h3><p>Taro 1/2 属于编译型架构，主要通过对类 React 代码进行语法编译转换地方式，得到各个端可以运行的代码，再配合非常轻量的运行时适配，以及根据标准组件库、API 进行差异抹平，从而实现多端适配的目的，整体架构如下。</p><p><img src="https://storage.360buyimg.com/taro-resource/taro1.jpg" alt></p><p>而 Taro 1 与 Taro 2 的都是基于这种架构建立的方案，他们之间的区别主要是 Taro 1 在小程序端是自建构建体系，而 Taro 2 则是所有端都采用 Webpack 进行编译，可以降低 Taro 自身编译系统的复杂度，同时能够让开发者使用 Webpack 的生态来自定义编译过程和结果，可以认为 Taro 2 是 Taro 1 和 3 之间的一个过渡性版本。</p><h3 id="Taro-3" class="post-heading"><a href="#Taro-3" class="headerlink" title="Taro 3"></a>Taro 3<a class="post-anchor" href="#Taro-3" aria-hidden="true"></a></h3><p>Taro 3 则可以大致理解为解释型架构（相对于 Taro 1/2 而言），主要通过在小程序端模拟实现 DOM、BOM API 来让前端框架直接运行在小程序环境中，从而达到小程序和 H5 统一的目的，而对于生命周期、组件库、API、路由等差异，我们依然可以通过定义统一标准，各端负责各自实现的方式来进行抹平。而正因为 Taro 3 的原理，所以我们可以在 Taro 3 中同时支持 React、Vue 等框架，甚至我们还支持了 jQuery，在不久的将来我们还能支持让开发自定义地去拓展其他框架的支持，比如 Angular，Taro 3 整体架构如下。</p><p><img src="https://storage.360buyimg.com/taro-resource/taro2.jpg" alt></p><h3 id="版本选择的取舍" class="post-heading"><a href="#版本选择的取舍" class="headerlink" title="版本选择的取舍"></a>版本选择的取舍<a class="post-anchor" href="#版本选择的取舍" aria-hidden="true"></a></h3><p>通过上述内容可以看出，Taro 两代架构之间差异巨大，从而也就导致了他们之间的特性也很不一样。Taro 1/2 和 Taro 3 之间特性的差异主要体现在开发体验与性能上。</p><p>从开发体验上看，Taro 3 明显是优于 Taro 1/2 的，受益于 Taro 3 架构的原理，我们可以在 Taro 3 中使用完整的 React、Vue 语法特性来进行开发，从而在开发体验上让多端开发无限接近于 Web 开发，这对深耕 Web 而初次接触小程序的开发者来说是非常友好的。而对 Taro 熟悉的朋友肯定知道 Taro 1/2 在开发时会有诸多限制，尤其是在 JSX 书写上，我们总会需要一些手段来绕过这些限制，这就导致开发体验小有不足。</p><p>从性能上看，某些情况下 Taro 1/2 会优于 Taro 3，如果你的应用非常复杂，页面节点非常多，有非常多的大规模更新操作，对性能要求比较苛刻的话，Taro 1/2 会是不错的选择，而 Taro 1 和 2 我们更推荐使用 Taro 2。当然，根据我们的测试，对于大部分应用来说 Taro 1/2 和 Taro 3 的性能差异并不明显，我们后续会给出 benchmark 来印证这一点，而且，对于 Taro 3 本身在性能存在劣势的场景，Taro 官方团队已经给出了相应的解决方案来应对。比如，提升首次渲染速度，我们可以使用<a href="https://nervjs.github.io/taro/docs/prerender" target="_blank" rel="noopener">预渲染</a>；对于无限滚动加载的列表场景，我们提供了<a href="https://nervjs.github.io/taro/docs/virtual-list" target="_blank" rel="noopener">虚拟列表组件</a>。</p><p>对于开发者来说，开发体验和性能往往是需要权衡来寻找平衡点的，缺一不可，所以现阶段，我们更加推荐使用 Taro 3 来开发多端应用。而且现阶段 Taro 团队的研发重心主要放在 Taro 3 上，新的特性会优先在 Taro 3 上进行尝试，所以，在未来 Taro 3 将更具有想象力，会有更多好玩的东西推出来。</p><h2 id="平滑升级不完全指南" class="post-heading"><a href="#平滑升级不完全指南" class="headerlink" title="平滑升级不完全指南"></a>平滑升级不完全指南<a class="post-anchor" href="#平滑升级不完全指南" aria-hidden="true"></a></h2><p>Taro 2 和 Taro 3 都有对应的迁移指南，根据迁移指南往往能规避大部分的问题。</p><p>Taro 1 升级到 Taro 2 的<a href="https://nervjs.github.io/taro/docs/2.2.13/migrate-to-2" target="_blank" rel="noopener">迁移指南</a>。</p><p>Taro 1/2 升级到 Taro 3 的<a href="https://nervjs.github.io/taro/docs/migration" target="_blank" rel="noopener">迁移指南</a>。</p><p>当然，迁移指南肯定无法覆盖到所有问题所有情况，我们在 Taro 交流群的日常交流中总是能观察到一些迁移的问题，所以在这里，我们将梳理一遍迁移指南，同时就一些常见的问题，再做一些说明补充，来解答开发者们的升级困惑。</p><h3 id="Taro-1-升级到-Taro-2" class="post-heading"><a href="#Taro-1-升级到-Taro-2" class="headerlink" title="Taro 1 升级到 Taro 2"></a>Taro 1 升级到 Taro 2<a class="post-anchor" href="#Taro-1-升级到-Taro-2" aria-hidden="true"></a></h3><p>Taro 1 升 Taro 2 所需要做的工作并不多，根据<a href="https://nervjs.github.io/taro/docs/2.2.13/migrate-to-2" target="_blank" rel="noopener">迁移指南</a>，主要是新增了一个 <code>@tarojs/mini-runner</code> 依赖，以及对编译配置的调整，而在这里容易出问题的往往是在编译配置调整中，所以我们总结了一下针对编译配置的调整内容。</p><ul><li><code>plugins</code> 配置调整，调整前是一个对象，调整后为一个数组，用来配置 <a href="https://nervjs.github.io/taro/docs/2.2.13/config-detail#plugins" target="_blank" rel="noopener">Taro 插件</a>，非常值得注意的是这个配置请与 <code>babel</code> 配置里的 <code>plugins</code> 区分开来，后者是用来配置 babel 插件的，这是一个非常常见的配置错误</li><li><code>babel</code>、<code>csso</code>、<code>uglify</code> 等配置从旧的 <code>plugins</code> 配置中移出来了，调整为与 <code>sourceRoot</code> 和 <code>outputRoot</code> 等同级的配置项</li><li><code>weapp</code> 配置项改名为 <code>mini</code></li><li><code>postcss</code> 配置项下去掉 <code>module</code> 这一级配置，原 <code>module</code> 下的配置项直接置于 <code>postcss</code> 下</li></ul><h4 id="关于-async-functions-的使用" class="post-heading"><a href="#关于-async-functions-的使用" class="headerlink" title="关于 async functions 的使用"></a>关于 async functions 的使用<a class="post-anchor" href="#关于-async-functions-的使用" aria-hidden="true"></a></h4><p>同时，从 Taro 2 开始，使用 async functions 不再需要安装 <code>@tarojs/async-await</code> 依赖了，而是通过安装 babel 插件 <code>babel-plugin-transform-runtime</code> 配合 <code>babel-runtime</code> 来实现支持，具体请查看文档<a href="https://nervjs.github.io/taro/docs/2.2.13/async-await" target="_blank" rel="noopener">异步编程指南</a>。</p><p>而在 Taro 3 中则不再需要手动安装配置，Taro 的官方 babel 预设 <code>babel-preset-taro</code> 已经内置了相关配置。</p><h3 id="Taro-1-2-升级到-Taro-3" class="post-heading"><a href="#Taro-1-2-升级到-Taro-3" class="headerlink" title="Taro 1/2 升级到 Taro 3"></a>Taro 1/2 升级到 Taro 3<a class="post-anchor" href="#Taro-1-2-升级到-Taro-3" aria-hidden="true"></a></h3><p>Taro 1/2 升级到 Taro 3 则相对来说要麻烦许多，但是<a href="https://nervjs.github.io/taro/docs/migration" target="_blank" rel="noopener">迁移指南</a>中其实介绍得已经非常详细了，我们在这里总结一下需要调整的内容。</p><h4 id="文件调整" class="post-heading"><a href="#文件调整" class="headerlink" title="文件调整"></a>文件调整<a class="post-anchor" href="#文件调整" aria-hidden="true"></a></h4><p>文件调整主要如下：</p><ul><li><strong>babel 配置</strong>，在项目目录下新增了 <a href="https://github.com/NervJS/taro/blob/next/packages/babel-preset-taro/README.md" target="_blank" rel="noopener"><code>babel.config.js</code></a> 配置文件来配置 babel，为此，请去掉编译配置（config/index.js）中的 <code>babel</code> 配置，<a href="https://nervjs.github.io/taro/docs/migration/#%E7%BC%96%E8%AF%91%E4%BE%9D%E8%B5%96%E5%BA%93" target="_blank" rel="noopener">请参见说明</a></li><li><strong>项目/页面配置</strong>，新增项目/页面同名的配置文件 <code>*.config.js</code>（或者 <code>*.config.ts</code>）, <code>*</code> 代表页面/项目文件的文件名，<code>config</code> 文件必须和页面/项目文件在同一文件夹，<a href="https://nervjs.github.io/taro/docs/migration/#%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">请参见说明</a></li></ul><h4 id="编译配置调整" class="post-heading"><a href="#编译配置调整" class="headerlink" title="编译配置调整"></a>编译配置调整<a class="post-anchor" href="#编译配置调整" aria-hidden="true"></a></h4><p>主要参考上述 Taro 1 升级到 Taro 2 时的调整，新增 Taro 3 特有配置 framework 配置，取值为使用的框架（react, nerv, vue, vue3），<a href="https://nervjs.github.io/taro/docs/migration/#%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">请参见说明</a></p><h4 id="项目依赖调整" class="post-heading"><a href="#项目依赖调整" class="headerlink" title="项目依赖调整"></a>项目依赖调整<a class="post-anchor" href="#项目依赖调整" aria-hidden="true"></a></h4><p>在 Taro 3 中有很多旧的项目依赖已经不再需要了，例如之前做平台运行时兼容的 <code>@tarojs/taro-weapp</code>、<code>@tarojs/taro-alipay</code> 等等，而同时也新增了一些新依赖项，例如 <code>@tarojs/runtime</code> 等，具体 Taro 3 会需要哪些依赖，可以通过创建 Taro 示例项目看到，在这里我们列出了 Taro 3 目前仍需使用的 NPM 包名及其具体作用。</p><table><thead><tr><th>NPM 包</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td><a href="https://www.npmjs.com/package/babel-preset-taro" target="_blank" rel="noopener"><code>babel-preset-taro</code></a></td><td style="text-align:left">给 Taro 项目使用的 babel preset</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro" target="_blank" rel="noopener"><code>@tarojs/taro</code></a></td><td style="text-align:left">暴露给应用开发者的 Taro 核心 API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/shared" target="_blank" rel="noopener"><code>@tarojs/shared</code></a></td><td style="text-align:left">Taro 内部使用的 utils</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/api" target="_blank" rel="noopener"><code>@tarojs/api</code></a></td><td style="text-align:left">暴露给 @tarojs/taro 的所有端的公有 API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro-h5" target="_blank" rel="noopener"><code>@tarojs/taro-h5</code></a></td><td style="text-align:left">暴露给 @tarojs/taro 的 H5 端 API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/router" target="_blank" rel="noopener"><code>@tarojs/router</code></a></td><td style="text-align:left">Taro H5 路由</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/react" target="_blank" rel="noopener"><code>@tarojs/react</code></a></td><td style="text-align:left">基于 react-reconciler 的小程序专用 React 渲染器</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/cli" target="_blank" rel="noopener"><code>@tarojs/cli</code></a></td><td style="text-align:left">Taro 开发工具</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/extend" target="_blank" rel="noopener"><code>@tarojs/extend</code></a></td><td style="text-align:left">Taro 扩展，包含 jQuery API 等</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/helper" target="_blank" rel="noopener"><code>@tarojs/helper</code></a></td><td style="text-align:left">内部给 CLI 和 runner 使用辅助方法集</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/service" target="_blank" rel="noopener"><code>@tarojs/service</code></a></td><td style="text-align:left">Taro 插件化内核</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro-loader" target="_blank" rel="noopener"><code>@tarojs/taro-loader</code></a></td><td style="text-align:left">露给 @tarojs/mini-runner 和 @tarojs/webpack-runner 使用的 Webpack loader</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/runner-utils" target="_blank" rel="noopener"><code>@tarojs/runner-utils</code></a></td><td style="text-align:left">暴露给 @tarojs/mini-runner 和 @tarojs/webpack-runner 的公用工具函数</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/webpack-runner" target="_blank" rel="noopener"><code>@tarojs/webpack-runner</code></a></td><td style="text-align:left">Taro H5 端 Webpack 打包编译工具</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/mini-runner" target="_blank" rel="noopener"><code>@tarojs/mini-runner</code></a></td><td style="text-align:left">Taro 小程序 端 Webpack 打包编译工具</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/components" target="_blank" rel="noopener"><code>@tarojs/components</code></a></td><td style="text-align:left">Taro 标准组件库，H5 版</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taroize" target="_blank" rel="noopener"><code>@tarojs/taroize</code></a></td><td style="text-align:left">Taro 小程序反向编译器</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/with-weapp" target="_blank" rel="noopener"><code>@tarojs/with-weapp</code></a></td><td style="text-align:left">反向转换的运行时适配器</td></tr><tr><td><a href="https://www.npmjs.com/package/eslint-config-taro" target="_blank" rel="noopener"><code>eslint-config-taro</code></a></td><td style="text-align:left">Taro ESLint 规则</td></tr><tr><td><a href="https://www.npmjs.com/package/eslint-plugin-taro" target="_blank" rel="noopener"><code>eslint-plugin-taro</code></a></td><td style="text-align:left">Taro ESLint 插件</td></tr></tbody></table><h4 id="代码调整" class="post-heading"><a href="#代码调整" class="headerlink" title="代码调整"></a>代码调整<a class="post-anchor" href="#代码调整" aria-hidden="true"></a></h4><p>代码调整主要如下：</p><ul><li><strong>API 引入</strong>，前端框架（React/Nerv/Vue）自身的 API 直接从框架引入，与 Web 保持一致，只有 Taro 提供的相关 API，还是从 <code>@tarojs/taro</code> 引入，<a href="https://nervjs.github.io/taro/docs/migration/#api" target="_blank" rel="noopener">请参见说明</a></li><li><p><strong>App 代码调整</strong>，对于 React/Nerv 项目，项目入口 App 的 render 函数固定修改为返回 <code>this.props.children</code>，如下</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./app.scss'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.props.children</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App</span><br></pre></td></tr></table></figure></li><li><p><strong>路由功能</strong>，使用 <code>getCurrentInstance().router</code> 替代 <code>this.$router</code>，<code>getCurrentInstance</code> 作为新 API 从 <code>@tarojs/taro</code> 引入，<a href="https://nervjs.github.io/taro/docs/migration/#%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener">请参见说明</a></p></li><li><strong>生命周期</strong>，主要是使用 React 后，带来的生命周期调整，<a href="https://nervjs.github.io/taro/docs/migration/#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" target="_blank" rel="noopener">请参见说明</a></li><li><strong>使用第三方 React 库</strong>，对于 redux、mobx 等 React 生态库，可以直接像 Web 开发那样直接使用，<a href="https://nervjs.github.io/taro/docs/migration/#%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9-react-%E5%BA%93" target="_blank" rel="noopener">请参见说明</a></li><li><strong>Ref &amp; DOM</strong>，<a href="https://nervjs.github.io/taro/docs/migration/#ref--dom" target="_blank" rel="noopener">请参见说明</a></li><li><strong>不再需要传入 $scope</strong>，在 Taro 1/2 时调用某些 API 需要传入 <code>this.$scope</code>，相当于传入组件对应的小程序原生对象，而 Taro 3 则不再需要，具体<a href="https://nervjs.github.io/taro/docs/migration/#scope-%E5%92%8C-componenttype" target="_blank" rel="noopener">请参见说明</a></li><li><strong>样式调整</strong>，组件直接受全局样式影响，不再需要设置 <code>addGlobalClasses</code>，<a href="https://nervjs.github.io/taro/docs/migration/#%E6%A0%B7%E5%BC%8F" target="_blank" rel="noopener">请参见说明</a></li></ul><p>当然，迁移指南内容并不仅仅局限于版本迁移，由于 Taro 3 相对与 Taro 1/2 有很多 breaking changes，所以建议使用 Taro 3 的开发者都能在开发前阅读一遍<a href="https://nervjs.github.io/taro/docs/migration" target="_blank" rel="noopener">迁移指南</a>。</p><h2 id="不得不唠叨一下-Taro-3-的正确使用姿势" class="post-heading"><a href="#不得不唠叨一下-Taro-3-的正确使用姿势" class="headerlink" title="不得不唠叨一下 Taro 3 的正确使用姿势"></a>不得不唠叨一下 Taro 3 的正确使用姿势<a class="post-anchor" href="#不得不唠叨一下-Taro-3-的正确使用姿势" aria-hidden="true"></a></h2><p>正如前文所提到的，目前有很多开发者是从 Taro 3 才开始接触 Taro，而目前市面上很多 Taro 相关的教程和项目都是 Taro 1/2 的，这对于很多开发者来说会造成不小的困惑，所以行文到此，我们希望列举一些常见问题来帮助开发者规避掉一些不必要的错误。</p><h3 id="Taro-多版本共存问题" class="post-heading"><a href="#Taro-多版本共存问题" class="headerlink" title="Taro 多版本共存问题"></a>Taro 多版本共存问题<a class="post-anchor" href="#Taro-多版本共存问题" aria-hidden="true"></a></h3><p>很多开发曾经使用 Taro 旧版本开发过项目，已经在全局安装了 Taro，但是想同时体验到 Taro 3，应该如何进行操作？</p><p>我们提供了两种思路：</p><ul><li>如果是需要新创建 Taro 3 项目，可以使用 <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener">nvm</a> 来管理 node 版本，通过安装不同 node 版本来安装不同版本的 Taro CLI，从而解决 Taro 多版本共存的问题</li><li>如果是部分已有项目需要升级到 Taro 3，可以在这些项目本地安装相应版本的 Taro CLI，这样通过 <code>yarn</code> 或者 <code>npm</code> 执行命令的话就会直接使用本地安装的 Taro CLI，安装方式 <code>yarn add @tarojs/cli</code></li></ul><h3 id="将-Taro-CLI-版本与项目中-Taro-相关依赖的版本保持一致" class="post-heading"><a href="#将-Taro-CLI-版本与项目中-Taro-相关依赖的版本保持一致" class="headerlink" title="将 Taro CLI 版本与项目中 Taro 相关依赖的版本保持一致"></a>将 Taro CLI 版本与项目中 Taro 相关依赖的版本保持一致<a class="post-anchor" href="#将-Taro-CLI-版本与项目中-Taro-相关依赖的版本保持一致" aria-hidden="true"></a></h3><p>请时刻注意将 Taro CLI 版本与项目中 Taro 相关依赖的版本保持一致。</p><p>CLI 与项目依赖版本不一致是导致很多问题出现的源头之一。例如，Taro CLI 版本为 3.0.8，那么 Taro 相关依赖的版本也必须是 3.0.8，Taro 相关包名可以从这个<a href="https://nervjs.github.io/taro/docs/CONTRIBUTING#taro-%E7%BB%84%E6%88%90" target="_blank" rel="noopener">列表</a>得知，具体依赖项版本可以使用 <code>taro info</code> 命令或者通过 <code>package.json</code> 就能知晓。</p><p>如果发现不一致的情况可以使用 Taro 升级命令 <code>taro update self [版本号]</code> 和 <code>taro update project [版本号]</code>来分别将 CLI 和项目依赖升级到指定版本；或者也可以手动安装相应版本 CLI，修改 <code>package.json</code> 依赖版本号，然后重装依赖来解决。</p><h3 id="使用路由" class="post-heading"><a href="#使用路由" class="headerlink" title="使用路由"></a>使用路由<a class="post-anchor" href="#使用路由" aria-hidden="true"></a></h3><p>在 Taro 3 中使用路由在前文的版本迁移部分已有提及，同时需要了解更多内容可以前往<a href="https://nervjs.github.io/taro/docs/router" target="_blank" rel="noopener">官方文档</a>查看。</p><p>非常值得注意的是，无论是获取项目传入参数还是页面入参，都是通过 <code>getCurrentInstance().router</code> 来获取的，具体使用如下。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCurrentInstance &#125; <span class="keyword">from</span> <span class="string">'@tarojs/taro'</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  componentDidMount () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(getCurrentInstance().router.params)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="如何获取页面节点信息" class="post-heading"><a href="#如何获取页面节点信息" class="headerlink" title="如何获取页面节点信息"></a>如何获取页面节点信息<a class="post-anchor" href="#如何获取页面节点信息" aria-hidden="true"></a></h3><p>由于 Taro 3 设计机制的原因，需要在新增的 <code>onReady</code> 生命周期内才能调用 Taro API 正确获取页面节点信息，小程序和 H5 都是如此。</p><p>而同时，在微信小程序中当页面节点嵌套过深时，超过一定层级（默认 16 级，可以通过编译配置 <code>baseLevel</code> 来控制）时，Taro 将转而使用自定义组件，然后再开启新的循环，在这种情况要争取获取页面节点信息的话，需要使用 <strong>跨自定义组件的后代选择器</strong> 来进行选择，可以参见 Taro <a href="https://github.com/NervJS/taro/issues/7411" target="_blank" rel="noopener">相关 issue</a>。</p><h3 id="Taro-UI-是不是不支持-Taro-3-了" class="post-heading"><a href="#Taro-UI-是不是不支持-Taro-3-了" class="headerlink" title="Taro UI 是不是不支持 Taro 3 了"></a>Taro UI 是不是不支持 Taro 3 了<a class="post-anchor" href="#Taro-UI-是不是不支持-Taro-3-了" aria-hidden="true"></a></h3><p>在 Taro 3 中依然可以使用 Taro UI，目前需要安装 Taro UI 的 alpha 版本。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add taro-ui@next</span><br></pre></td></tr></table></figure><p>Taro UI 作为 Taro 的官方 UI 库，依然处于维护状态，目前主要依靠社区力量在进行维护，同时也非常欢迎更多社区开发人员共同参与到 Taro UI 的迭代中来。</p><h3 id="Taro-UI-有没有-Vue-版本" class="post-heading"><a href="#Taro-UI-有没有-Vue-版本" class="headerlink" title="Taro UI 有没有 Vue 版本"></a>Taro UI 有没有 Vue 版本<a class="post-anchor" href="#Taro-UI-有没有-Vue-版本" aria-hidden="true"></a></h3><p>目前，Taro 官方没有推出 Vue 版本的 Taro UI 库，但在社区中有 Vue 版本的解决方案，如果使用 Vue 进行开发可以尝试 <a href="https://github.com/psaren/taro-ui-vue" target="_blank" rel="noopener">taro-ui-vue</a>。</p><h3 id="为什么-Taro-3-打包出来的应用体积巨大" class="post-heading"><a href="#为什么-Taro-3-打包出来的应用体积巨大" class="headerlink" title="为什么 Taro 3 打包出来的应用体积巨大"></a>为什么 Taro 3 打包出来的应用体积巨大<a class="post-anchor" href="#为什么-Taro-3-打包出来的应用体积巨大" aria-hidden="true"></a></h3><p>很多朋友会发现 Taro 3 的项目在预览的时候打包出来的包大小相比 Taro 1/2 要大上很多，然后非常紧张用了 Taro 3 会不会导致自己的主包超限。</p><p>诚然，在预览的时候 Taro 3 默认生成的包会比较大，主要是因为为了方便调试，预览时引用的 React 和 Vue 用的是调试用库，而且同时预览时会生成 sourceMap，这就导致预览时生成的包会大很多，但是在打包生产包（去掉 –watch）时，最终生成包还是会很小的，对线上不会有太大影响，同时 Taro 团队也正在尝试不断优化生产包大小，进一步优化 Taro 性能。</p><p>如果想要在预览时降低包大小，可以设置 <code>NODE_ENV</code> 为 <code>production</code> 来开启压缩，例如编译微信小程序</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mac</span></span><br><span class="line">$ NODE_ENV=production taro build --<span class="built_in">type</span> weapp --watch</span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows</span></span><br><span class="line">$ <span class="built_in">set</span> NODE_ENV=production &amp;&amp; taro build --<span class="built_in">type</span> weapp --watch</span><br></pre></td></tr></table></figure><h3 id="在-Taro-3-中使用小程序原生页面及组件" class="post-heading"><a href="#在-Taro-3-中使用小程序原生页面及组件" class="headerlink" title="在 Taro 3 中使用小程序原生页面及组件"></a>在 Taro 3 中使用小程序原生页面及组件<a class="post-anchor" href="#在-Taro-3-中使用小程序原生页面及组件" aria-hidden="true"></a></h3><p>在 Taro 3 中依然可以像 Taro 1/2 那样引入小程序原生页面及组件，且使用方式大体一致，不过在某些情况有些细微差别，比如 <code>slot</code> 的使用，在 Taro 1/2 中可以直接使用 <code>slot</code> 标签，而在 Taro 3 中则需要从 <code>@tarojs/components</code> 中引入 <code>Slot</code> 组件然后再进行使用。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Taro <span class="keyword">from</span> <span class="string">'@tarojs/taro'</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; View, Text, Slot &#125; <span class="keyword">from</span> <span class="string">'@tarojs/components'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    show: <span class="literal">false</span>,</span><br><span class="line">    date: <span class="string">''</span></span><br><span class="line">  &#125;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; show, date &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;View className=<span class="string">'index'</span>&gt;</span><br><span class="line">        &lt;van-button type=<span class="string">'primary'</span> onClick=&#123;<span class="keyword">this</span>.showCalendar&#125;&gt;显示日历&lt;<span class="regexp">/van-button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;van-calendar</span></span><br><span class="line"><span class="regexp">          show=&#123;show&#125;</span></span><br><span class="line"><span class="regexp">          showConfirm</span></span><br><span class="line"><span class="regexp">          type='range'</span></span><br><span class="line"><span class="regexp">          onClose=&#123;this.closeCalendar&#125;</span></span><br><span class="line"><span class="regexp">          onConfirm=&#123;this.onConfirm&#125;</span></span><br><span class="line"><span class="regexp">          &gt;</span></span><br><span class="line"><span class="regexp">          &lt;Slot name='title'&gt;</span></span><br><span class="line"><span class="regexp">            &lt;View&gt;Hello world&lt;/</span>View&gt;</span><br><span class="line">          &lt;<span class="regexp">/Slot&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>van-calendar&gt;</span><br><span class="line">      &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>具体使用情况可以参考项目 <a href="https://github.com/NervJS/taro3-vant-sample" target="_blank" rel="noopener">taro3-vant-sample</a>。</p><h3 id="有哪些-Taro-官方的示例项目" class="post-heading"><a href="#有哪些-Taro-官方的示例项目" class="headerlink" title="有哪些 Taro 官方的示例项目"></a>有哪些 Taro 官方的示例项目<a class="post-anchor" href="#有哪些-Taro-官方的示例项目" aria-hidden="true"></a></h3><p>目前 Taro 3 的社区示例项目还在完善中，Taro 官方则分别针对 React 和 Vue 提供了示例的组件库项目以供参考，安装最新版本的 Taro CLI，在创建项目时选择社区优质模板源创建即可进行体验。</p><p><img src="https://storage.360buyimg.com/taro-resource/template.jpg" alt></p><p>同时，Taro 官方还提供了一个 <a href="https://github.com/NervJS/TodoMVC" target="_blank" rel="noopener">TodoMVC 项目</a>以供参考学习，React 和 Vue 示例分别在 react 和 vue 分支上。</p><h3 id="Taro-物料市场中哪些物料能在-Taro-3-中使用" class="post-heading"><a href="#Taro-物料市场中哪些物料能在-Taro-3-中使用" class="headerlink" title="Taro 物料市场中哪些物料能在 Taro 3 中使用"></a>Taro 物料市场中哪些物料能在 Taro 3 中使用<a class="post-anchor" href="#Taro-物料市场中哪些物料能在-Taro-3-中使用" aria-hidden="true"></a></h3><p>目前 Taro 物料市场没有做好针对物料的版本区分，我们会尽快启动这一项工作，为每个物料打上版本标识，当下要识别哪些物料能在 Taro 3 中使用，只能通过物料本身的 Taro 依赖项来进行识别。</p><h2 id="再聊聊-Taro-的近期动作" class="post-heading"><a href="#再聊聊-Taro-的近期动作" class="headerlink" title="再聊聊 Taro 的近期动作"></a>再聊聊 Taro 的近期动作<a class="post-anchor" href="#再聊聊-Taro-的近期动作" aria-hidden="true"></a></h2><p>Taro 社区及官方团队目前主要在集中人力做以下几项工作</p><h3 id="实现支持平台与框架的自定义扩展" class="post-heading"><a href="#实现支持平台与框架的自定义扩展" class="headerlink" title="实现支持平台与框架的自定义扩展"></a>实现支持平台与框架的自定义扩展<a class="post-anchor" href="#实现支持平台与框架的自定义扩展" aria-hidden="true"></a></h3><p>细心的朋友应该已经发现，进入 Taro 3 时代，Taro 的推广 Slogan 已经由「多端统一开发解决方案」变成了「开放式跨端跨框架解决方案」，那么这两者之间有何差异呢？</p><p>可以看出「开放式跨端跨框架解决方案」包含了多端统一开发的特性，同时支持跨框架开发，而且更重要的是能够成为一个开放式的解决方案，我们希望开发者可以根据 Taro 提供的 API 开发一个插件就能实现自己去为 Taro 扩展更多平台与前端框架的支持，例如未来有些新的平台推出小程序，或者有人希望能在 Taro 中使用 Angular 等更多的前端框架，那么就可以通过 Taro 的开放式机制来自行扩展，而不用等待 Taro 官方来进行支持，Taro 将只作为一个跨端适配的平台，所有的可能性都可以让社区自己去自由发掘。</p><h3 id="实现小程序与-Web-的同构" class="post-heading"><a href="#实现小程序与-Web-的同构" class="headerlink" title="实现小程序与 Web 的同构"></a>实现小程序与 Web 的同构<a class="post-anchor" href="#实现小程序与-Web-的同构" aria-hidden="true"></a></h3><p>在当前 Taro 的设计下，使用 Taro 开发必须使用 Taro 标准组件库中的组件，而不能直接使用大家熟悉的 HTML 标签。我们正在努力打破这一藩篱，寻求支持让开发人员可以直接使用 HTML 标签来开发小程序的方案。</p><p>这样，既能进一步让 Taro 的开发体验接近 Web， 同时也能让一些 Web 生态资源可以直接运行在小程序中，极大降低从 Web 迁移到小程序的成本。</p><h3 id="说说缺席的-Taro-3-RN-支持" class="post-heading"><a href="#说说缺席的-Taro-3-RN-支持" class="headerlink" title="说说缺席的 Taro 3 RN 支持"></a>说说缺席的 Taro 3 RN 支持<a class="post-anchor" href="#说说缺席的-Taro-3-RN-支持" aria-hidden="true"></a></h3><p>很多朋友在升级到 Taro 3 之后都会发出疑问：RN 是不再支持了吗？</p><p>Taro 3 没有支持 RN 适配，让很多使用 Taro 开发 RN 应用的朋友措手不及，经常在群里能看到上述灵魂拷问。</p><p>事实上 Taro 并没有抛弃 RN，目前 Taro 3 RN 适配工作已经由 「58 同城」开发团队接管，进行适配支持，目前这项工作已经正在紧锣密鼓进行，相信不久的将来就能看到在 Taro 3 中 RN 的支持王者归来。而这一次的通力协作也意味着 Taro 核心团队正不断成长为一个跨公司的团队，在未来一定会有更多灵感的碰撞，为社区开发者带来更多精彩的功能。</p><h2 id="总结一下" class="post-heading"><a href="#总结一下" class="headerlink" title="总结一下"></a>总结一下<a class="post-anchor" href="#总结一下" aria-hidden="true"></a></h2><p>从目前的业界反馈与 Taro 自身规划来看，Taro 3 是一个非常值得尝试和期待的版本，已经有非常多的开发者开始使用 Taro 3 开发应用，在未来我们也会不断完善功能与文档，为大家带来更棒的开发体验。升级到 Taro 3 的过程或许稍显艰辛，但有任何问题，欢迎大家通过交流群和 GitHub issues 向我们进行反馈。</p><p>同时，诚挚邀请您与 Taro 官方团队交流您的使用情况，您的反馈是 Taro 前进的动力！请<a href="https://wj.qq.com/s2/6494361/09cf/" target="_blank" rel="noopener">戳此</a>完成 Taro 使用调研问卷，提交问卷，将有可能获得 Taro 团队的红包哦！！感谢一路相伴，Taro 有你更精彩！</p><div class="post-tags" style="display:none"><a href="/tags/小程序/">小程序</a> <a href="/tags/Taro/">Taro</a></div><div class="post-categories" style="display:none"><a href="/cates/移动开发/">移动开发</a></div><div class="post-announce">感谢您的阅读，本文由 <a href="//aotu.io">凹凸实验室</a> 版权所有。如若转载，请注明出处：凹凸实验室（<a href="https://aotu.io/notes/2020/08/31/taro-versions/">https://aotu.io/notes/2020/08/31/taro-versions/</a>）</div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2021-01-14T16:02:23.797Z">上次更新：2021-01-15 00:02:23</time></div></div><div class="post-nav"><div class="post-nav-next"><a href="/notes/2020/09/01/video-editor-summary/" title="羚珑视频编辑器开发总结">羚珑视频编辑器开发总结 <i class="fa fa-chevron-right"></i></a></div><div class="post-nav-prev"><a href="/notes/2020/08/25/valentine-plugin-cli/" title="三分钟打造七夕专属的插件化脚手架"><i class="fa fa-chevron-left"></i> 三分钟打造七夕专属的插件化脚手架</a></div></div><div class="post-comments" id="comments"></div><script>var gitalkOpts={id:"bm90ZXMvMjAyMC8wOC8zMS90YXJvLXZlcnNpb25zLw==",owner:"o2team",repo:"o2team.github.io",title:"Taro 版本升级权威指南",body:"https://aotu.io/notes/2020/08/31/taro-versions/index.html\n\n你是否对 Taro 辣么多版本感到非常困惑？你是否对升级 Taro 感到束手无策？本篇文章将为你答疑解惑，全面解读 Taro 开发那些事儿。",clientID:"3c4d153e6874260f9c7e",clientSecret:"dd44012504c6168bc05b9266e0554bb28c62ce15",admin:["luckyadam"]}</script></article></div><aside class="mod-side" id="sidebar"><div class="mod-side-sec aotuwx"><img class="aotuwx-qrcode" src="/img/qrcode.jpg" alt="关注我们"><div class="aotuwx-slogan">每周推送精选技术文章</div></div><div class="mod-side-sec works"><div class="mod-side-sec-hd"><h2>服务/产品</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="//taro.jd.com" target="_blank" title="Taro">Taro</a></li><li><a href="//taro-ui.jd.com" target="_blank" title="Taro-UI">Taro-UI</a></li><li><a href="//taro-ext.jd.com" target="_blank" title="Taro 物料市场">Taro 物料市场</a></li><li><a href="//taro-club.jd.com" target="_blank" title="Taro 官方论坛">Taro 官方论坛</a></li><li><a href="//cases.aotu.io/mobi/maga.html" target="_blank" title="拇指期刊">拇指期刊</a></li><li><a href="//athena.aotu.io/" target="_blank" title="Athena">Athena</a></li><li><a href="//guide.aotu.io/" target="_blank" title="前端代码规范">前端代码规范</a></li><li><a href="//halojs.aotu.io/" target="_blank" title="HaloJS">HaloJS</a></li><li><a href="//sign.aotu.io/" target="_blank" title="邮件签名工具">邮件签名工具</a></li><li><a href="//mac.aotu.io/" target="_blank" title="MAC全栈环境">MAC全栈环境</a></li><li><a href="//xcel.aotu.io" target="_blank" title="Excel Filter">Excel Filter</a></li><li><a href="//aotu.jd.com/share/" target="_blank" title="凹凸公开课">凹凸公开课</a></li><li><a href="//at.aotu.io" target="_blank" title="AT-UI">AT-UI</a></li></ul></div></div><div class="mod-side-sec favlinks"><div class="mod-side-sec-hd"><h2>友情链接</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.cloudbase.net" target="_blank" title="小程序·云开发"><img style="width:22px;vertical-align:middle" src="https://img20.360buyimg.com/ling/jfs/t1/57175/5/15617/50216/5dca6729E00cdff5d/631622525425290e.png">小程序·云开发</a></li><li><a href="https://ling.jd.com" target="_blank" title="京东羚珑智能设计">羚珑智能设计</a></li><li><a href="https://jdrd.jd.com" target="_blank" title="京东零售设计服务平台">京东零售设计服务平台</a></li><li><a href="https://jdc.jd.com" target="_blank" title="京东设计中心">JDC京东设计中心</a></li><li><a href="http://dopro.io/" target="_blank" title="腾讯 Deep Ocean">Deep Ocean</a></li><li><a href="http://fex.baidu.com" target="_blank" title="百度Web前端研发部">百度FEX</a></li><li><a href="http://taobaofed.org" target="_blank" title="淘宝前端团队">淘宝FED</a></li><li><a href="http://tgideas.qq.com" target="_blank" title="腾讯互娱设计中心">TGIdeas</a></li><li><a href="http://isux.tencent.com" target="_blank" title="腾讯SNG设计中心">ISUX</a></li><li><a href="http://cdc.tencent.com" target="_blank" title="腾讯用户研究与体验设计中心">CDC</a></li><li><a href="http://ued.ctrip.com" target="_blank" title="携程设计委员会">携程UED</a></li><li><a href="https://uiiiuiii.com/" target="_blank" title="优优教程网">优优教程网</a></li><li><a href="https://www.designup.cn/" target="_blank" title="Designup">Designup</a></li><li><a href="http://eux.baidu.com/" target="_blank" title="百度EUX">百度EUX</a></li></ul></div></div></aside></div></div><div class="mod-backtop" id="backTop"><i class="fa fa-long-arrow-up"></i></div><footer class="mod-ft" id="footer"><div class="grid"><ul class="mod-ft-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="https://github.com/o2team/o2team.github.io" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="mod-ft-sec mod-ft-copyright"><p>Designed by <a href="http://aotu.io" target="_blank">凹凸实验室</a> @<a target="_blank" href="http://jdc.jd.com">京东用户体验设计部</a></p><p>Copyright &copy; 2021. All Rights Reserved.</p><p><a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备15077732号-2</a></p></div></div></footer><script src="/js/bundle/core.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/post_wx_share.js"></script><script src="/js/bundle/gitalk.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e850b980d029480b092fdd7503c3f8de";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript" src="https://tajs.qq.com/stats?sId=53685723" charset="UTF-8"></script></body></html>